#include	"../kernel.h"
#include	"pic.h"
#include	"desc.h"
#include	"../asf.h"


void	init_pic()	/* 8295A PIC */
{
	io_outb(0x11, 0x20);
	io_outb(0x11, 0xA0);
	io_outb(0x20, 0x21);
	io_outb(0x28, 0xA1);
	io_outb(0x04, 0x21);
	io_outb(0x02, 0xA1);
	io_outb(0x01, 0x21);
	io_outb(0x01, 0xA1);
	io_outb(0xFC, 0x21);	/* 0xF8 = 11111000, bit 2 is slave PIC */
	io_outb(0xFF, 0xA1);
}


void	init_pit()	/* the PIT timer */
{
	io_outb(0x34, 0x43);
	io_outb(0x9C, 0x40);
	io_outb(0x2E, 0x40);	/* 10ms between each timer IRQ 0x20 */
}


